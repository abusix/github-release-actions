{"version":3,"file":"temp-test.js","sourceRoot":"/","sources":["temp-test.ts"],"names":[],"mappings":";;AAAA,+DAA+D;AAC/D,4CAA0C;AAC1C,6EAAkE;AAClE,2EAAgE;AAEhE,OAAO,CAAC,GAAG,CAAC,aAAa,GAAG,MAAM,CAAC;AACnC,OAAO,CAAC,GAAG,CAAC,YAAY,GAAG,0CAA0C,CAAC;AAEtE,OAAO,CAAC,GAAG,CAAC,SAAS,GAAG,MAAM,CAAC;AAE/B,MAAM,WAAW,GAAG,IAAI,gBAAO,CAAC,EAAE,CAAC,CAAC;AAEpC,MAAM,KAAK,GAAG,aAAa,CAAC;AAC5B,MAAM,IAAI,GAAG,uBAAuB,CAAC;AAErC,MAAM,GAAG,GAAG,0CAA0C,CAAC;AACvD,MAAM,GAAG,GAAG,kBAAkB,CAAC;AAE/B,MAAM,UAAU,GAAG;IACjB,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,KAAK,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,GAAE,CAAC;IACnE,IAAI,EAAE,OAAO,CAAC,GAAG;IACjB,OAAO,EAAE,OAAO,CAAC,IAAI;IACrB,KAAK,EAAE,OAAO,CAAC,KAAK;CACrB,CAAC;AAEF,KAAK,UAAU,YAAY;IACzB,MAAM,MAAM,GAAG,MAAM,IAAA,6CAAiB,EACpC;QACE,OAAO,EAAE,WAAW;QACpB,OAAO,EAAE;YACP,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE;YACrB,GAAG,EAAE,GAAG;SACT;QACD,MAAM,EAAE,UAAU;KACnB,EACD,GAAG,CACJ,CAAC;IACF,OAAO,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC;IAExB,qEAAqE;IACrE,MAAM,IAAA,+CAAkB,EACtB;QACE,OAAO,EAAE,WAAW;QACpB,OAAO,EAAE;YACP,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE;YACrB,GAAG,EAAE,GAAG;SACT;QACD,MAAM,EAAE,UAAU;KACnB,EACD,MAAM,CAAC,SAAS,CACjB,CAAC;AACJ,CAAC;AAED,YAAY,EAAE;KACX,IAAI,CAAC,GAAG,EAAE;IACT,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IAC9B,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAClB,CAAC,CAAC;KACD,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;IACb,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACnB,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAClB,CAAC,CAAC,CAAC","sourcesContent":["// import { reconcileReleases } from \"./reconcile-releases.js\";\nimport { Octokit } from \"@octokit/action\";\nimport { performPostRelease } from \"./action-perform-postrelease\";\nimport { performPreRelease } from \"./action-perform-prerelease\";\n\nprocess.env.GITHUB_ACTION = \"test\";\nprocess.env.GITHUB_TOKEN = \"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\";\n\nprocess.env.LOG_LEVEL = \"info\";\n\nconst testOktokit = new Octokit({});\n\nconst owner = \"danielemery\";\nconst repo = \"action-deployment-poc\";\n\nconst SHA = \"e8f7e9e6f49638e4d0bbb3c3f98371ac340485d0\";\nconst TAG = \"2024-03-10_14_44\";\n\nconst fakeLogger = {\n  debug: process.env.LOG_LEVEL === \"debug\" ? console.debug : () => {},\n  info: console.log,\n  warning: console.warn,\n  error: console.error,\n};\n\nasync function performTests() {\n  const result = await performPreRelease(\n    {\n      octokit: testOktokit,\n      context: {\n        repo: { owner, repo },\n        sha: SHA,\n      },\n      logger: fakeLogger,\n    },\n    TAG\n  );\n  console.log({ result });\n\n  // const result = { releaseId: 145834585, isExistingRelease: false };\n  await performPostRelease(\n    {\n      octokit: testOktokit,\n      context: {\n        repo: { owner, repo },\n        sha: SHA,\n      },\n      logger: fakeLogger,\n    },\n    result.releaseId\n  );\n}\n\nperformTests()\n  .then(() => {\n    console.log(\"Tests complete\");\n    process.exit(0);\n  })\n  .catch((err) => {\n    console.error(err);\n    process.exit(1);\n  });\n"]}